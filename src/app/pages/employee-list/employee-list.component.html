
<div class="employee-list-container">
    <div class="header-bar">
      <h2>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h2>
      <div class="actions">
        <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." [(ngModel)]="searchText" (input)="filterEmployees()">
        <select [(ngModel)]="selectedDepartment" (change)="filterEmployees()">
          <option value="">‡∏ó‡∏∏‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å</option>
          <option *ngFor="let dept of uniqueDepartments()" [value]="dept">{{ dept }}</option>
        </select>
        <button (click)="addEmployee()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</button>
        <button (click)="exportToExcel()">üì• Excel</button>
      </div>
    </div>
  
    <table>
      <thead>
        <tr>
          <th>‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</th> <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° -->
          <th>‡∏ä‡∏∑‡πà‡∏≠</th>
          <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
          <th>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
          <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏à‡πâ‡∏≤‡∏á</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
          <th>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</th> <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° -->
          <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of paginatedEmployees">
          <td>{{ emp.employeeId }}</td> <!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏´‡∏±‡∏™ -->
          <td>{{ emp.firstName }} {{ emp.lastName }}</td>
          <td>{{ emp.department }}</td>
          <td>{{ emp.position }}</td>
          <td>{{ emp.employmentType }}</td>
          <td>{{ emp.workStatus }}</td> <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å emp.status ‡∏ñ‡πâ‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏∑‡∏≠ workStatus -->
          <td>{{ emp.user?.role || '‚Äî' }}</td> <!-- ‚úÖ role ‡∏°‡∏≤‡∏à‡∏≤‡∏Å user (‡∏ñ‡πâ‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏¢‡∏π‡πà) -->
          <td>
            <button (click)="editEmployee(emp._id)">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button (click)="deleteEmployee(emp._id)">‡∏•‡∏ö</button>
          </td>
        </tr>
      </tbody>
      
    </table>
<app-employee-add 
  *ngIf="showAddModal"
  (close)="showAddModal = false"
  (saved)="showAddModal = false; fetchEmployees()">
</app-employee-add>